# ai-performance-dashboard.yml
# TRAE 2.0 Advanced AI Performance Dashboard Configuration

name: "AI Performance Intelligence Dashboard"
version: "2.0.0"
description: "Real-time AI-powered performance monitoring and optimization dashboard"

# Dashboard Configuration
dashboard:
  title: "TRAE 2.0 AI Performance Intelligence"
  refresh_interval: 30  # seconds
  theme: "dark"
  layout: "grid"
  auto_refresh: true

# Widget Definitions
widgets:
  # Performance Optimization Widgets
  lighthouse_score:
    type: "gauge"
    title: "Lighthouse Performance Score"
    position: { row: 1, col: 1, width: 2, height: 1 }
    data_source: "lighthouse_audit"
    thresholds:
      excellent: 95
      good: 85
      needs_improvement: 70
    colors:
      excellent: "#00ff00"
      good: "#ffff00"
      needs_improvement: "#ff6600"
      poor: "#ff0000"

  core_web_vitals:
    type: "multi_gauge"
    title: "Core Web Vitals"
    position: { row: 1, col: 3, width: 3, height: 1 }
    metrics:
      - name: "LCP"
        unit: "s"
        threshold_good: 2.5
        threshold_poor: 4.0
      - name: "FID"
        unit: "ms"
        threshold_good: 100
        threshold_poor: 300
      - name: "CLS"
        unit: ""
        threshold_good: 0.1
        threshold_poor: 0.25

  bundle_size_trend:
    type: "line_chart"
    title: "Bundle Size Trend"
    position: { row: 2, col: 1, width: 3, height: 2 }
    data_source: "bundle_analysis"
    time_range: "7d"
    y_axis:
      label: "Size (KB)"
      max: 1000
    alert_threshold: 500

  performance_timeline:
    type: "timeline"
    title: "Performance Events"
    position: { row: 2, col: 4, width: 2, height: 2 }
    data_source: "performance_events"
    event_types:
      - "optimization"
      - "regression"
      - "deployment"
      - "alert"

  # User Behavior Analytics Widgets
  user_journey_flow:
    type: "sankey"
    title: "User Journey Flow"
    position: { row: 4, col: 1, width: 4, height: 2 }
    data_source: "behavior_analytics"
    nodes:
      - "Landing Page"
      - "Project Showcase"
      - "GitHub Profile"
      - "Contact Form"
      - "Exit"

  engagement_metrics:
    type: "stat_grid"
    title: "Engagement Metrics"
    position: { row: 4, col: 5, width: 2, height: 1 }
    metrics:
      - name: "Avg Session Duration"
        format: "duration"
        target: 180  # 3 minutes
      - name: "Bounce Rate"
        format: "percentage"
        target: 40
        inverse: true
      - name: "Pages per Session"
        format: "number"
        target: 3

  popular_projects:
    type: "bar_chart"
    title: "Most Popular Projects"
    position: { row: 5, col: 5, width: 2, height: 1 }
    data_source: "project_analytics"
    orientation: "horizontal"
    limit: 5

  # Conversion Optimization Widgets
  conversion_funnel:
    type: "funnel"
    title: "Conversion Funnel"
    position: { row: 6, col: 1, width: 3, height: 2 }
    stages:
      - name: "Visitors"
        color: "#3498db"
      - name: "Project Views"
        color: "#2ecc71"
      - name: "GitHub Clicks"
        color: "#f39c12"
      - name: "Contact Inquiries"
        color: "#e74c3c"

  conversion_rate_trend:
    type: "area_chart"
    title: "Conversion Rate Trend"
    position: { row: 6, col: 4, width: 3, height: 1 }
    data_source: "conversion_analytics"
    time_range: "30d"
    target_line: 3.0  # 3% target conversion rate

  lead_quality_score:
    type: "gauge"
    title: "Lead Quality Score"
    position: { row: 7, col: 4, width: 1, height: 1 }
    data_source: "lead_analytics"
    scale: { min: 0, max: 10 }
    thresholds:
      excellent: 8
      good: 6
      fair: 4

  social_proof_metrics:
    type: "stat_grid"
    title: "Social Proof Impact"
    position: { row: 7, col: 5, width: 2, height: 1 }
    metrics:
      - name: "GitHub Stars"
        format: "number"
        icon: "star"
      - name: "Profile Views"
        format: "number"
        icon: "eye"
      - name: "Repository Forks"
        format: "number"
        icon: "git-branch"

  # Technical Debt Widgets
  security_status:
    type: "status_indicator"
    title: "Security Status"
    position: { row: 8, col: 1, width: 1, height: 1 }
    data_source: "security_audit"
    states:
      secure: { color: "green", icon: "shield-check" }
      warnings: { color: "yellow", icon: "shield-alert" }
      vulnerabilities: { color: "red", icon: "shield-x" }

  dependency_health:
    type: "donut_chart"
    title: "Dependency Health"
    position: { row: 8, col: 2, width: 2, height: 1 }
    data_source: "dependency_audit"
    segments:
      - name: "Up to Date"
        color: "#2ecc71"
      - name: "Minor Updates"
        color: "#f39c12"
      - name: "Major Updates"
        color: "#e67e22"
      - name: "Deprecated"
        color: "#e74c3c"

  code_quality_trend:
    type: "line_chart"
    title: "Code Quality Trend"
    position: { row: 8, col: 4, width: 3, height: 1 }
    data_source: "code_quality"
    metrics:
      - name: "Complexity Score"
        color: "#3498db"
      - name: "Test Coverage"
        color: "#2ecc71"
      - name: "Technical Debt Ratio"
        color: "#e74c3c"

  # AI Insights and Recommendations
  ai_recommendations:
    type: "recommendation_list"
    title: "AI Recommendations"
    position: { row: 9, col: 1, width: 4, height: 2 }
    data_source: "ai_insights"
    categories:
      - "Performance"
      - "User Experience"
      - "Conversion"
      - "Technical Debt"
    priority_levels:
      - "High"
      - "Medium"
      - "Low"

  optimization_impact:
    type: "impact_matrix"
    title: "Optimization Impact vs Effort"
    position: { row: 9, col: 5, width: 2, height: 2 }
    data_source: "optimization_analysis"
    axes:
      x: "Implementation Effort"
      y: "Expected Impact"
    quadrants:
      - name: "Quick Wins"
        color: "#2ecc71"
      - name: "Major Projects"
        color: "#3498db"
      - name: "Fill-ins"
        color: "#f39c12"
      - name: "Questionable"
        color: "#e74c3c"

# Data Sources Configuration
data_sources:
  lighthouse_audit:
    type: "file"
    path: "./performance-ai-reports/lighthouse-report-*.json"
    refresh_interval: 300  # 5 minutes
    parser: "lighthouse_json"

  bundle_analysis:
    type: "file"
    path: "./dist/stats.json"
    refresh_interval: 600  # 10 minutes
    parser: "webpack_stats"

  behavior_analytics:
    type: "api"
    endpoint: "${ANALYTICS_API_URL}/behavior"
    refresh_interval: 60  # 1 minute
    auth_header: "Bearer ${ANALYTICS_API_KEY}"

  conversion_analytics:
    type: "api"
    endpoint: "${ANALYTICS_API_URL}/conversions"
    refresh_interval: 300  # 5 minutes
    auth_header: "Bearer ${ANALYTICS_API_KEY}"

  security_audit:
    type: "command"
    command: "npm audit --json"
    refresh_interval: 3600  # 1 hour
    parser: "npm_audit"

  dependency_audit:
    type: "command"
    command: "npm outdated --json"
    refresh_interval: 3600  # 1 hour
    parser: "npm_outdated"

  ai_insights:
    type: "file"
    path: "./performance-ai-reports/ai-performance-report-*.md"
    refresh_interval: 300  # 5 minutes
    parser: "markdown_insights"

# Alert Configuration
alerts:
  performance_regression:
    condition: "lighthouse_score < 85"
    severity: "high"
    channels: ["email", "slack"]
    message: "Performance regression detected: Lighthouse score dropped below 85"

  bundle_size_exceeded:
    condition: "bundle_size > 500"
    severity: "medium"
    channels: ["slack"]
    message: "Bundle size exceeded 500KB threshold"

  security_vulnerability:
    condition: "security_vulnerabilities.high > 0"
    severity: "critical"
    channels: ["email", "slack", "sms"]
    message: "High severity security vulnerability detected"

  conversion_drop:
    condition: "conversion_rate < 2.0"
    severity: "medium"
    channels: ["email"]
    message: "Conversion rate dropped below 2%"

  low_engagement:
    condition: "bounce_rate > 70"
    severity: "low"
    channels: ["slack"]
    message: "High bounce rate detected (>70%)"

# Integration Settings
integrations:
  emergency_system:
    enabled: true
    trigger_threshold:
      performance_score: 70
      security_critical: 1
      conversion_rate: 1.0

  multi_domain:
    enabled: true
    sync_metrics: true
    cross_domain_analytics: true

  github_integration:
    enabled: true
    auto_create_issues: true
    issue_labels: ["performance", "ai-generated"]

  slack_notifications:
    enabled: true
    webhook_url: "${SLACK_WEBHOOK_URL}"
    channel: "#performance-alerts"

# Export and Reporting
reporting:
  daily_summary:
    enabled: true
    time: "09:00"
    recipients: ["${ADMIN_EMAIL}"]
    format: "html"

  weekly_analysis:
    enabled: true
    day: "monday"
    time: "08:00"
    recipients: ["${ADMIN_EMAIL}", "${TEAM_EMAIL}"]
    format: "pdf"
    include_recommendations: true

  monthly_report:
    enabled: true
    day: 1
    time: "07:00"
    recipients: ["${ADMIN_EMAIL}", "${STAKEHOLDER_EMAIL}"]
    format: "executive_summary"
    include_trends: true
    include_roi_analysis: true

# Performance Targets and KPIs
targets:
  performance:
    lighthouse_score: 95
    first_contentful_paint: 1200  # ms
    time_to_interactive: 2500  # ms
    cumulative_layout_shift: 0.1
    bundle_size: 500  # KB

  user_experience:
    bounce_rate: 40  # %
    session_duration: 180  # seconds
    pages_per_session: 3
    mobile_performance_gap: 10  # max difference between mobile and desktop scores

  business:
    conversion_rate: 3.0  # %
    lead_quality_score: 7.0
    github_engagement: 100  # weekly profile views
    social_proof_growth: 5  # % monthly

  technical:
    test_coverage: 90  # %
    security_vulnerabilities: 0  # high severity
    dependency_freshness: 30  # days behind latest
    code_quality_score: 8.0

# AI Model Configuration
ai_models:
  performance_predictor:
    model: "time_series_forecasting"
    features: ["lighthouse_score", "bundle_size", "user_count"]
    prediction_horizon: "7d"
    retrain_interval: "weekly"

  user_behavior_classifier:
    model: "clustering"
    features: ["session_duration", "pages_viewed", "conversion_action"]
    segments: ["high_intent", "explorers", "quick_browsers"]
    retrain_interval: "monthly"

  conversion_optimizer:
    model: "a_b_testing"
    variants: ["control", "optimized_cta", "social_proof_enhanced"]
    success_metric: "conversion_rate"
    confidence_level: 0.95

  anomaly_detector:
    model: "isolation_forest"
    features: ["all_metrics"]
    sensitivity: "medium"
    alert_threshold: 0.1